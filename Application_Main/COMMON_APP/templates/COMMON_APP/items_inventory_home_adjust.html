{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Items Inventory</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" >
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
   
    <link rel="stylesheet" href="{% static 'css/style_new_adjust.css' %}">
   

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>

    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal content */
    .modal-content {
        background-color: #fefefe;
        margin: 7% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 80%; /* 80% of the width */
    }

    .modalone {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal content */
    .modal-content-one {
        background-color: #fefefe;
        margin: 7% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 90%; /* 80% of the width */
    }

    .modaltwo {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal content */
    .modal-content-two {
        background-color: #fefefe;
        margin: 7% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 80%; /* 80% of the width */
    }

    .modalthree {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal content */
    .modal-content-three {
        background-color: #fefefe;
        margin: 7% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 80%; /* 80% of the width */
    }

    .modalfour {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal content */
    .modal-content-four {
        background-color: #fefefe;
        margin: 7% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 80%; /* 80% of the width */
    }

    .modalfive {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal content */
    .modal-content-five {
        background-color: #fefefe;
        margin: 7% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 90%; /* 80% of the width */
    }

    .sidenav {
        height:85vh;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: lightblue;
        overflow-x: hidden;
        transition: 0.5s;
        padding-top: 60px;
        margin-top:56px;
        border-radius: 5px;
       
      }
      
      .sidenav a {
        padding: 8px 8px 8px 32px;
        text-decoration: none;
        font-size:20px;
        color:black;
        display: block;
        transition: 0.3s;
      }
      
     
      
      .sidenav .closebtn {
        position: absolute;
        top: 0;
        right: 2px;
        font-size: 20px;
        
      }
      
      @media screen and (max-height: 450px) {
        .sidenav {padding-top: 15px;}
        .sidenav a {font-size: 18px;}
      }

      /* Style the sidenav links and the dropdown button */
.sidenav a, .dropdown-btn {
padding: 6px 8px 6px 16px;
text-decoration: none;
font-size: 20px;
color: 1px solid black;
display: block;
border: none;
background: none;
width:100%;
text-align: left;
cursor: pointer;
outline: none;
margin-top:10px;
margin-bottom:10px;
}

/* On mouse-over */
.sidenav a:hover, .dropdown-btn:hover {
color: #f1f1f1;
background-color: #20B5AD;

}

/* Add an active class to the active dropdown button */


/* Dropdown container (hidden by default). Optional: add a lighter background color and some left padding to change the design of the dropdown content */
.dropdown-container {
display: none;
background-color:  #5b5b5d;
padding-left: 8px;
}

/* Optional: Style the caret down icon */
.fa-caret-down {
float: right;
padding-right: 8px;
}
.fa-caret-right {
float: right;
padding-right: 8px;
}

.f-left {
    float: left;
}

.f-right {
    float: right;
}
.ifr {
    margin-left:40px;
} 
.header-past {
    font-family: helvetica;
    color: #337ab7;
    font-size: 35px;
    text-align: center;
    width: 100%;
    text-shadow: 6px 6px 6px #c9c6c6;
    display: block;
    font-weight: bolder;        
}

.custom-form {
    /* Add your custom form styles here */
    margin: 20px;
    padding: 15px;
    border: 1px solid #ccc;
    border-radius: 5px;
    background-color: #f5f5f5;
    display: flex; /* Use flexbox to create a horizontal layout */
    flex-direction: column; /* Stack items vertically by default */
    align-items: flex-start; /* Align items to the start of the column */
}

/* Style for the entire form label */
.custom-form label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    font-size:18px;
}

/* Style for the ModelChoiceField (Select) */
.custom-form select {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    box-sizing: border-box;
}

/* Style for the submit and refresh buttons */
.custom-form button {
    background-color: #4caf50;
    color: white;
    border: none;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
}

/* Add some margin between the select and buttons */
.custom-form button,
.custom-form a {
    margin-top: 10px;
}

/* Responsive styles for smaller screens */
@media only screen and (max-width: 600px) {
    .custom-form {
        margin: 10px;
        padding: 10px;
    }
}
    @media (max-width: 768px){
   
      .header-past {
        font-family: helvetica;
        color: #337ab7;
        font-size: 35px;
        text-align: center;
        width: 100%;
        text-shadow: 6px 6px 6px #c9c6c6;
        display: block;
        font-weight: bolder;        
    }

    .ifr {
        margin-left:10px;
        width:280px;
        text-align:left;
    }
   

    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
      }
      
      /* Modal content */
      .modal-content {
        background-color: #fefefe;
        margin: 20% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 85%; /* 80% of the width */
      }
      
      .modalone {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
      }
      
      /* Modal content */
      .modal-content-one {
        background-color: #fefefe;
        margin: 20% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 85%; /* 80% of the width */
      }

      .modal-content-two {
        background-color: #fefefe;
        margin: 20% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 85%; /* 80% of the width */
    }

    .modal-content-three {
        background-color: #fefefe;
        margin: 20% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 80%; /* 80% of the width */
    }

    .modal-content-four {
        background-color: #fefefe;
        margin: 20% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 80%; /* 80% of the width */
    }

    .modal-content-five {
        background-color: #fefefe;
        margin: 20% auto; /* 15% from the top and centered */
        padding: 5px;
        border: 1px solid #888;
        width: 80%; /* 80% of the width */
    }

       
    
}

     
    
    
    
   

</style>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
</head>
<body>
    {% include 'nav_adjust.html' %}

    <br><br><br><br><br>

    {% if user == 'R' %}
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div class="dropdown-divider"></div>
        <a href="{% url 'receptionist_dashboard' user=user %}">Dashboard <i class="fa fa-caret-right"></i></a>
        <div class="dropdown-divider"></div>
        <a href="{% url 'recep_register_patient' user=user %}">Register Patient <i class="fa fa-caret-right"></i></a>
        <div class="dropdown-divider"></div>        
        <a href="{% url 'patients_details' user=user %}">Patients Details <i class="fa fa-caret-right"></i></a>
        <div class="dropdown-divider"></div>
        <a href="{% url 'create_appointment' user=user %}">Create Appointments<i class="fa fa-caret-right"></i></a>
        <div class="dropdown-divider"></div>
        <a href="{% url 'appointment_details' user=user %}">General Medicine<i class="fa fa-caret-right"></i></a>
        <div class="dropdown-divider"></div>
        <a href="{% url 'repeat_medicicne' user=user %}">Repeat Medicine<i class="fa fa-caret-right"></i></a>
        <div class="dropdown-divider"></div>
        <a href="{% url 'courier_medicicne' user=user %}">Courier Medicine<i class="fa fa-caret-right"></i></a>
        <div class="dropdown-divider"></div>
        {% comment %} <a href="{% url 'online_consultation' user=user %}">Online Consultation</a> {% endcomment %}
        <a href="{% url 'old_prescription' user=user %}">Upload Old Case Paper<i class="fa fa-caret-right"></i></a>
    </div>
      <span style="font-size:20px;cursor:pointer" onclick="openNav()"><p style="margin-top:10px; padding: 2px; border: 2px solid darkblue; background:white; color:darkblue; width:50px;"><b> &#9776; </b></p></span>
    {% else %}
    <br><br><br><br>
   
      {% endif %}

    <main role="main" class="container">

        <div class="jumbotron" style="margin-top:30px;">

        
    
    <button id="openPopup" class="btn btn-primary btn-lg ifr">ADD ITEMS/UNIT LIST &nbsp;<i class="fa fa-external-link" style="float:right;"></i></button>

    <button id="openPopupone" class="btn btn-primary btn-lg ifr" >VENDORS  &nbsp;<i class="fa fa-external-link" style="float:right;"></i></button>
            
    <button id="openPopuptwo" class="btn btn-primary btn-lg ifr">ADD STOCK  &nbsp;<i class="fa fa-external-link" style="float:right;"></i></button>

    <button id="openPopupfive"class="btn btn-primary btn-lg ifr" >PLACE ORDER  &nbsp;<i class="fa fa-external-link" style="float:right;"></i></button>
       
    <br><br><br>
    
    <div class="header-past">ITEMS STOCK <span style="text-transform:uppercase;">{{branch}}</span></div><hr>

            
    <form class="custom-form" method="get" action="{% url 'items_inventory_home' %}">
        {{ search_form }}
        <button type="submit">Search <i class="fa fa-search"></i></button>
        <a href="{% url 'items_inventory_home' %}" class="btn btn-dark">Refresh <i class="fa fa-refresh"></i></a>
    </form>
    <hr>
    <div class="table-responsive" >
        <table class='table' >    
            <thead>       
                <tr>
                    <th style="font-size: 18px;">COUNT</th>
                  <th style="font-size: 18px;">ITEM</th>                              
                  <th style="font-size: 18px;">QUANTITY IN STORE</th>
                  <th style="font-size: 18px;">REORDER LEVEL</th>
                  <th style="font-size: 18px;">LAST UPDATED</th>
                  <th style="font-size: 18px;">ISSUED QUANTITY</th>
                  <th style="font-size: 18px;">RECEIVED QUANTITY</th>                
                  <th style="font-size: 18px;">APPROVAL</th>
                  <th style="font-size: 18px;">STATUS</th>
                </tr>
            </thead>

            {% for stock in filtered_items_inventory %}

            <!--When new medicine in added to Stock/Inventory  and APPROVAL is PENDING-->
            {% if  stock.approval_flag_new %}

              <tr > 
                <td bgcolor=#FBCEB1 style="font-size: 14px;" >{{forloop.counter}}</td>
                <td bgcolor=#FBCEB1 style="font-size: 14px;" >{{stock.item}}</td>
                <td bgcolor=#FBCEB1 style="font-size: 14px;">{{stock.quantity}} {{stock.unit}}</td>
                <td bgcolor=#FBCEB1 style="font-size: 14px;">{{stock.reorder_level}} </td>
                
                <td bgcolor=#FBCEB1 style="font-size: 14px;">{{stock.last_updated}}</td>
                <td bgcolor=#FBCEB1 style="font-size: 14px;">{{stock.issue_quantity}}</td>                              
                <td bgcolor=#FBCEB1 style="font-size: 14px;">{{stock.quantity}}</td>
                <td bgcolor=#FBCEB1 ><p style="font-size:14px; text-align:center; color:red; border: solid 3px red; padding: 6px; "><b>PENDING</b></p></td>

                <td bgcolor=#FBCEB1  style="font-size: 14px;">NEW ITEM</td>
              </tr>

               <!--When new medicine in added to Stock/Inventory and APPROVAL IS DONE -->
              {% elif stock.approval_flag_new == False and  stock.issue_quantity == 0 and  stock.receive_quantity == 0 and stock.approval_flag_issue == False  %}
              <tr > 
                <td  style="font-size: 14px;"  >{{forloop.counter}}</td>
                <td  style="font-size: 14px;" >{{stock.item}}</td>
                
                <td  style="font-size: 14px;"><button class="openPopupthree" data-stock-id="{{stock.id}}"> {{stock.quantity}} {{stock.unit}}</button>

                    <div id="myModalthree" class="modalthree">
                        <div class="modal-content-three">
                            <span class="closethree"><button style="float:right;"> <i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br><br>
                            <iframe src="{% url 'issue_items_inventory' stock.id %}" width="100%" height="400"></iframe>
                        </div>
                    </div>  
                         
                
                </td>

                <td  style="font-size: 14px;"><button class="openPopupfour" data-stock-id="{{stock.id}}">{{stock.reorder_level}}</button>

                    <div id="myModalfour" class="modalfour">
                        <div class="modal-content-four">
                            <span class="closefour"><button style="float:right;"><i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br><br>
                            <iframe src="{% url 'reorder_level_items' stock.id %}" width="100%" height="400"></iframe>
                        </div>
                    </div> 
                                  
                
                </td>                
                <td  style="font-size: 14px;"  >{{stock.last_updated}}</td>
                <td  style="font-size: 14px;" >{{stock.issue_quantity}}</td>                              
                <td  style="font-size: 14px;"  >{{stock.quantity}}</td>
                <td  style="font-size: 14px;"><p style="font-size:14px; text-align:center; color:#337ab7; border: solid 3px #337ab7; padding: 6px; "><b>APPROVED</b></p></td>
                <td  style="font-size: 14px;"  >NEW ITEM ADDED</td>
              </tr>
              <!--When  medicine is issued(taken Out) from Stock/Inventory and APPROVAL IS PENDING -->
              {% elif stock.issue_quantity != 0 and stock.approval_flag_new == False and stock.approval_flag_issue == True %}

              <tr > 
                <td bgcolor=#FBCEB1  style="font-size: 14px;" >{{forloop.counter}}</td>
                <td bgcolor=#FBCEB1  style="font-size: 14px;" >{{stock.item}}</td>
                <td bgcolor=#FBCEB1  style="font-size: 14px;" >{{stock.quantity}} {{stock.unit}}</td>
                <td bgcolor=#FBCEB1  style="font-size: 14px;" >{{stock.reorder_level}} </td>
                
                <td bgcolor=#FBCEB1  style="font-size: 14px;" >{{stock.last_updated}}</td>
                <td bgcolor=#FBCEB1  style="font-size: 14px;" >{{stock.issue_quantity}}</td>                              
                <td bgcolor=#FBCEB1  style="font-size: 14px;" >{{stock.receive_quantity}}</td>
                <td bgcolor=#FBCEB1  style="font-size: 14px;"><p style="font-size:14px; text-align:center; color:red; border: solid 3px red; padding: 6px; "><b>PENDING</b></p></td>
                <td bgcolor=#FBCEB1  style="font-size: 14px;">ITEM ISSUED</td>
              </tr>

              <!--When  medicine is issued(taken Out) from Stock/Inventory and APPROVAL IS DONE -->
           
              {% elif  stock.issue_quantity != 0 and stock.approval_flag_new == False and stock.approval_flag_issue == False %}

            <tr > 
                <td  style="font-size: 14px;" >{{forloop.counter}}</td>
                <td   style="font-size: 14px;" >{{stock.item}}</td>
                
                <td  style="font-size: 14px;" ><button class="openPopupthree" data-stock-id="{{stock.id}}"> {{stock.quantity}} {{stock.unit}}</button>
                     
                    <div id="myModalthree" class="modalthree">
                        <div class="modal-content-three">
                            <span class="closethree"><button style="float:right;"> <i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br><br>
                            <iframe src="{% url 'issue_items_inventory' stock.id %}" width="100%" height="400"></iframe>
                        </div>
                    </div> 
                
                </td>

                <td  style="font-size: 14px;"><button class="openPopupfour" data-stock-id="{{stock.id}}">{{stock.reorder_level}}</button>

                    <div id="myModalfour" class="modalfour">
                        <div class="modal-content-four">
                            <span class="closefour"><button style="float:right;"><i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br><br>
                            <iframe src="{% url 'reorder_level_items' stock.id %}" width="100%" height="400"></iframe>
                        </div>
                    </div>
                                  
                
                </td>                
                <td  style="font-size: 14px;"  >{{stock.last_updated}}</td>
                <td   style="font-size: 14px;">{{stock.issue_quantity}}</td>                              
                <td   style="font-size: 14px;" >{{stock.receive_quantity}}</td>
                <td  style="font-size: 14px;"><p style="font-size:14px; text-align:center; color:#337ab7; border: solid 3px #337ab7; padding: 6px; "><b>APPROVED</b></p></td>
                <td   style="font-size: 14px;" >ITEM ISSUED</td>
              </tr>

              <!--When  medicine is RECEIVED through order(taken IN) in Stock/Inventory and APPROVAL IS PENDING -->
              {% elif stock.receive_quantity != 0 and stock.approval_flag_new == False and stock.approval_flag_receive == True %}

              <tr > 
                <td  bgcolor=#FBCEB1  style="font-size: 14px;" >{{forloop.counter}}</td>
                <td  bgcolor=#FBCEB1  style="font-size: 14px;" >{{stock.item}}</td>
                
                <td  bgcolor=#FBCEB1  style="font-size: 14px;"> {{stock.quantity}} {{stock.unit}} </td>

                <td  bgcolor=#FBCEB1  style="font-size: 14px;">{{stock.reorder_level}}  </td>                
                <td   bgcolor=#FBCEB1  style="font-size: 14px;">{{stock.last_updated}}</td>
                <td  bgcolor=#FBCEB1  style="font-size: 14px;">{{stock.issue_quantity}}</td>                              
                <td   bgcolor=#FBCEB1  style="font-size: 14px;">{{stock.receive_quantity}}</td>
                <td bgcolor=#FBCEB1  style="font-size: 14px;"><p style="font-size:14px; text-align:center; color:red; border: solid 3px red; padding: 6px; "><b>PENDING</b></p></td>

                <td  bgcolor=#FBCEB1  style="font-size: 14px;" >ITEM RECEIVED(ORDER)</td>
              </tr>


               <!--When  medicine is RECEIVED through order(taken IN) in Stock/Inventory and APPROVAL IS DONE -->
              {% elif stock.receive_quantity != 0 and stock.approval_flag_new == False and stock.approval_flag_receive == False %}
              <tr > 
                <td  style="font-size: 14px;" >{{forloop.counter}}</td>
                <td  style="font-size: 14px;" >{{stock.item}}</td>
                
                <td  style="font-size: 14px;"><button class="openPopupthree" data-stock-id="{{stock.id}}"> {{stock.quantity}} {{stock.unit}}</button>
                    <div id="myModalthree" class="modalthree">
                        <div class="modal-content-three">
                            <span class="closethree"><button style="float:right;"> <i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br><br>
                            <iframe src="{% url 'issue_items_inventory' stock.id %}" width="100%" height="400"></iframe>
                        </div>
                    </div> 
                         
                
                </td>

                <td  style="font-size: 14px;"><button class="openPopupfour" data-stock-id="{{stock.id}}">{{stock.reorder_level}}</button>

                    <div id="myModalfour" class="modalfour">
                        <div class="modal-content-four">
                            <span class="closefour"><button style="float:right;"><i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br><br>
                            <iframe src="{% url 'reorder_level_items' stock.id %}" width="100%" height="400"></iframe>
                        </div>
                    </div>
                                   
                
                </td>                
                <td  style="font-size: 14px;"  >{{stock.last_updated}}</td>
                <td  style="font-size: 14px;" >{{stock.issue_quantity}}</td>                              
                <td  style="font-size: 14px;" >{{stock.receive_quantity}}</td>
                <td  style="font-size: 14px;"><p style="font-size:14px; text-align:center; color:#337ab7; border: solid 3px #337ab7; padding: 6px; "><b>APPROVED</b></p></td>
                <td  style="font-size: 14px;"  >ITEM RECEIVED(ORDER)</td>
              </tr>

             
              {% endif %}

              {% empty %}
    <tr>
        <td class="no-results"  colspan="10" style="font-size: 14px;">No results found.</td>
    </tr>
              {% endfor %}
        </table>
    </div>






    <!-- The Modal -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close"><button style="float:right;"><i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br>
            <iframe src="{% url 'add_items_unit' %}" width="100%" height="550"></iframe>
        </div>
    </div>

    <div id="myModalone" class="modalone">
        <div class="modal-content-one">
            <span class="closeone"><button style="float:right;"><i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br>
            <iframe src="{% url 'items_vendors' %}" width="100%" height="550"></iframe>
        </div>
    </div>

    <div id="myModaltwo" class="modaltwo">
        <div class="modal-content-two">
            <span class="closetwo"><button style="float:right;"><i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br>
            <iframe src="{% url 'add_items_inventory' %}" width="100%" height="550"></iframe>
        </div>
    </div>

    <div id="myModalfive" class="modalfive">
        <div class="modal-content-five">
            <span class="closefive">
                <button style="float:right;">
                    <i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i>
                </button>
            </span><br>
            
            {% comment %} <span class="closefive"><button style="float:right;"><i class="fa fa-window-close" style="font-size:20px;" aria-hidden="true"></i></button></span><br> {% endcomment %}
            <iframe src="{% url 'place_order_items' %}" width="100%" height="550"></iframe>
        </div>
    </div>

        </div>
    
   

    </main>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>	
<script>
    $(document).ready(function () {
        $('#id_item').select2();

    });
</script>
    <script>
        let menu = document.querySelector('#menu-btn');
    let navbar = document.querySelector('.header .navbar');
    
    menu.onclick = () =>{
        menu.classList.toggle('fa-times');
        navbar.classList.toggle('active');
    }
    
    window.onscroll = () =>{
        menu.classList.remove('fa-times');
        navbar.classList.remove('active');
    
    }
    </script>

    <script>
        function openNav() {
        document.getElementById("mySidenav").style.width = "300px";
        }
        
        function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
        }
    </script>

    <script>
        // JavaScript to open and close the ADD ITEM/UNIT modal
        var modal = document.getElementById('myModal');
        var btn = document.getElementById("openPopup");
        var span = document.getElementsByClassName("close")[0];

        btn.onclick = function() {
            modal.style.display = "block";
        }

        span.onclick = function() {
            modal.style.display = "none";
            window.parent.location.reload();
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
               
            }
        }

    // JavaScript to open and close the VENDORS modal
    var modalone = document.getElementById('myModalone');
    var btnone = document.getElementById("openPopupone");
    var spanone = document.getElementsByClassName("closeone")[0];

    btnone.onclick = function() {
        modalone.style.display = "block";
    }

    spanone.onclick = function() {
        modalone.style.display = "none";
        window.parent.location.reload();
    }

    window.onclick = function(event) {
        if (event.target == modalone) {
            modalone.style.display = "none";
        }
    }

     // JavaScript to open and close the ADD INVENTORY modal
     var modaltwo = document.getElementById('myModaltwo');
     var btntwo = document.getElementById("openPopuptwo");
     var spantwo = document.getElementsByClassName("closetwo")[0];
 
     btntwo.onclick = function() {
         modaltwo.style.display = "block";
         
     }
 
     spantwo.onclick = function() {
         modaltwo.style.display = "none";
         window.parent.location.reload();
     }
 
     window.onclick = function(event) {
         if (event.target == modaltwo) {
             modaltwo.style.display = "none";
         }
     }


     // JavaScript to open and close the modal for ISSUE ITEM
     var modalthree = document.getElementById('myModalthree');
     var btnthree = document.getElementsByClassName("openPopupthree");
     var spanthree = document.getElementsByClassName("closethree")[0];

     for (var i = 0; i < btnthree.length; i++) {
         btnthree[i].onclick = function() {
             var stockId = this.getAttribute("data-stock-id");
             var iframe = document.querySelector("#myModalthree iframe");
             var url = "{% url 'issue_items_inventory' 9999 %}".replace('9999', stockId); // Replace a placeholder with the actual stock ID
             iframe.src = url;
             modalthree.style.display = "block";
         }
     }

     spanthree.onclick = function() {
     modalthree.style.display = "none";
     window.parent.location.reload();
     }

     window.onclick = function(event) {
     if (event.target == modalthree) {
         modalthree.style.display = "none";
     }
     }

    // JavaScript to open and close the modal for REORDER LEVEL
    var modalfour = document.getElementById('myModalfour');
    var btnfour = document.getElementsByClassName("openPopupfour");
    var spanfour = document.getElementsByClassName("closefour")[0];

    for (var i = 0; i < btnfour.length; i++) {
        btnfour[i].onclick = function() {
            var stockId = this.getAttribute("data-stock-id");
            var iframe = document.querySelector("#myModalfour iframe");
            var url = "{% url 'reorder_level_items' 9999 %}".replace('9999', stockId); // Replace a placeholder with the actual stock ID
            iframe.src = url;
            modalfour.style.display = "block";
         }
    }

    spanfour.onclick = function() {
        modalfour.style.display = "none";
        window.parent.location.reload();
    }

    window.onclick = function(event) {
        if (event.target == modalfour) {
            modalfour.style.display = "none";
        }
    }

    

     // JavaScript to open and close the Place Order modal
     var modalfive = document.getElementById('myModalfive');
     var btnfive = document.getElementById("openPopupfive");
     var spanfive = document.getElementsByClassName("closefive")[0];

     btnfive.onclick = function() {
        console.log("Button clicked");
        modalfive.style.display = "block";
    }
    
    spanfive.onclick = function() {
        console.log("Close button clicked");
        modalfive.style.display = "none";
        window.parent.location.reload();
    }
    
    window.onclick = function(event) {
        console.log("Window clicked");
        if (event.target == modalfive) {
            modalfive.style.display = "none";
        }
    }
    
 


 


   

    </script> 
      


</body>
</html>
